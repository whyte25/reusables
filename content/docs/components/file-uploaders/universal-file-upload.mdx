---
title: Universal File Upload
description: A versatile file upload component that supports any file type with preview functionality, drag-and-drop, progress tracking, and intelligent file type detection.
---

## Features

- Support for any file type
- Intelligent file type detection and icons
- Drag and drop support
- Grid or list display modes
- Upload progress indication
- Direct or manual upload modes
- Error handling
- Customizable styles
- Dark mode support
- Maximum file count and size limits

## Installation

<Tabs items={['CLI', 'Manual']}>
  <Tab value="CLI">
  ```package-install
npx shadcn@latest add "https://reusables.vercel.app/r/universal-file-upload"
```
  </Tab>

  <Tab value="Manual">
  <Steps>

    <Step>

Create and copy the following code into your `components` folder:

<CollapsibleCode>

```json doc-gen:file
{
  "file": "registry/reusables/universal-file-upload.tsx",
  "codeblock": {
    "lang": "tsx",
    "meta": "title=\"universal-file-upload.tsx\""
  }
}
```

</CollapsibleCode>

</Step>

<Step>

Create and copy the following code into your `hooks` folder:

<CollapsibleCode>
```json doc-gen:file
{
  "file": "registry/hooks/use-multiple-file-upload.tsx",
  "codeblock": {
    "lang": "tsx",
    "meta": "title=\"use-multiple-file-upload.tsx\""
  }
}
```
</CollapsibleCode>
</Step>

<Step>
Create and copy the following code into your `lib` folder:

<CollapsibleCode>
```json doc-gen:file
{
  "file": "registry/lib/utils.ts",
  "codeblock": {
    "lang": "tsx",
    "meta": "title=\"utils.ts\""
  }
}
```
</CollapsibleCode>
</Step>
</Steps>
  </Tab>
</Tabs>

## Usage

```tsx
import { UniversalFileUpload } from "@/components/universal-file-upload"
```

## Examples

### Direct Upload

This example shows direct file upload upon selection.

<ComponentSource
  className="md:px-0"
  name="universal-file-upload-direct-demo"
  reTrigger={true}
/>

### Manual Upload

The example below demonstrates manual file upload with a grid layout.

<ComponentSource
  className="md:px-0"
  name="universal-file-upload-demo"
  reTrigger={true}
/>

### Form Integration

This example demonstrates integration with React Hook Form, including validation and form submission.

<ComponentSource
  className="md:px-0"
  name="universal-file-upload-form-demo"
  reTrigger={true}
/>

## File Type Support

The component includes intelligent file type detection and displays appropriate icons for different file types:

- Images (jpg, jpeg, png, gif, webp)
- Videos (mp4, webm, ogg)
- Audio (mp3, wav)
- Documents (pdf, doc, docx)
- Spreadsheets (xls, xlsx, csv)
- Code files (js, ts, jsx, tsx, html, css)
- Archives (zip, rar, 7z, tar, gz)
- And more...

## Reference

<TypeTable
  type={{
    width: {
      type: "string",
      description: "Width of the dropzone",
      default: "100%",
    },
    height: {
      type: "string",
      description: "Height of the dropzone",
      default: "240px",
    },
    className: {
      type: "string",
      description: "Class name to style the dropzone",
    },
    value: {
      type: "FileState[]",
      description: "Array of files with their states (file, key, and progress)",
    },
    onChange: {
      type: "(files: FileState[]) => void | Promise<void>",
      description: "Callback function when files are selected or removed",
    },
    onFilesAdded: {
      type: "(addedFiles: FileState[]) => void | Promise<void>",
      description: "Callback function when new files are added",
    },
    disabled: {
      type: "boolean",
      description: "Whether the dropzone is disabled",
    },
    dropzoneOptions: {
      type: "Omit<DropzoneOptions, 'disabled'>",
      description:
        "Options for react-dropzone (e.g., maxFiles, maxSize, accept)",
    },
    isDirectUpload: {
      type: "boolean",
      description: "Whether to upload directly on file selection",
    },
    onUpload: {
      type: "(files: File[]) => void | Promise<void>",
      description:
        "Callback function when files should be uploaded (used with isDirectUpload)",
    },
    displayMode: {
      type: "'grid' | 'list'",
      description: "Display mode for file previews",
      default: "grid",
    },
  }}
/>
