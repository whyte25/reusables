{
  "name": "multiple-image-upload-form-demo",
  "type": "registry:example",
  "dependencies": [
    "react-hook-form",
    "@hookform/resolvers/zod",
    "zod"
  ],
  "registryDependencies": [
    "multiple-image-upload",
    "button",
    "input",
    "form",
    "card"
  ],
  "files": [
    {
      "path": "example/multiple-image-upload-form-demo.tsx",
      "content": "\"use client\";\n\nimport {\n  FileState,\n  MultiImageDropzone,\n} from \"@/components/multiple-image-upload\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { toast } from \"@/components/ui/notify-provider\";\nimport { useMultipleFileUpload } from \"@/hooks/use-multiple-file-upload\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { z } from \"zod\";\n\nconst formSchema = z.object({\n  title: z.string().min(2).max(50),\n  images: z.array(z.string()).min(1, \"At least one image is required\"),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\nexport default function MultipleImageUploadFormDemo() {\n  const { uploadMultipleFiles, isUploading, error } = useMultipleFileUpload({\n    onSuccess: (urls) => {\n      // Update form with uploaded URLs\n      form.setValue(\"images\", urls);\n      toast.success(\"Images uploaded successfully!\");\n    },\n    onError: (error) => {\n      toast.error(error);\n    },\n  });\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      title: \"\",\n      images: [],\n    },\n  });\n\n  const [fileStates, setFileStates] = React.useState<FileState[]>([]);\n\n  async function onSubmit(values: FormValues) {\n    toast.promise(() => new Promise((resolve) => setTimeout(resolve, 2000)), {\n      loading: \"Creating gallery...\",\n      success: (data) => `Gallery created successfully! ${data}`,\n      error: \"Failed to create gallery\",\n    });\n    console.log(values);\n    form.reset();\n    setFileStates([]);\n  }\n\n  return (\n    <Card className=\"w-full max-w-2xl mx-auto\">\n      <CardHeader>\n        <CardTitle>Create Image Gallery</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\n            <FormField\n              control={form.control}\n              name=\"title\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Gallery Title</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"My Gallery\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"images\"\n              render={() => (\n                <FormItem>\n                  <FormLabel>Gallery Images</FormLabel>\n                  <FormControl>\n                    <MultiImageDropzone\n                      value={fileStates}\n                      onChange={setFileStates}\n                      onUpload={async (files) => {\n                        const filesToUpload = files.map((file) => ({\n                          key: Math.random().toString(36).slice(2),\n                          file,\n                        }));\n                        await uploadMultipleFiles(filesToUpload);\n                      }}\n                      isDirectUpload\n                      dropzoneOptions={{\n                        maxFiles: 5,\n                        maxSize: 5 * 1024 * 1024, // 5MB\n                      }}\n                      displayMode=\"list\" // or \"grid\"\n                      width=\"100%\"\n                      height=\"200px\"\n                      disabled={isUploading}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <Button type=\"submit\" className=\"w-full\" disabled={isUploading}>\n              Create Gallery\n            </Button>\n          </form>\n        </Form>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:example",
      "target": ""
    }
  ]
}