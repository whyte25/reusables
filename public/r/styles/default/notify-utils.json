{
  "name": "notify-utils",
  "type": "registry:ui",
  "registryDependencies": [
    "notify-provider"
  ],
  "files": [
    {
      "path": "reusables/toast/notify-utils.ts",
      "content": "import type { ToastParams, ToastPromiseOptions } from \"./notify-provider\";\n\nexport type ToastFunction = (\n  title: string,\n  options?: Partial<ToastParams>\n) => string;\n\ntype PromiseHandler = <T>(\n  promise: () => Promise<T>,\n  options: ToastPromiseOptions<T>\n) => string;\n\nexport interface ToastMethods {\n  success: ToastFunction;\n  error: ToastFunction;\n  warning: ToastFunction;\n  info: ToastFunction;\n  loading: ToastFunction;\n  default: ToastFunction;\n  push: (params: ToastParams) => string;\n  promise: PromiseHandler;\n}\n\nclass Toast implements ToastMethods {\n  private emit: ((params: ToastParams) => string) | null = null;\n  private emitPromise: PromiseHandler | null = null;\n\n  setHandlers(\n    emit: (params: ToastParams) => string,\n    promiseHandler: PromiseHandler\n  ) {\n    this.emit = emit;\n    this.emitPromise = promiseHandler;\n  }\n\n  private createToastFn(status: ToastParams[\"status\"]): ToastFunction {\n    return (title, options = {}) => {\n      if (!this.emit)\n        throw new Error(\n          \"Toast not initialized: wrap your app with ToastProvider\"\n        );\n      return this.emit({\n        title,\n        status,\n        ...options,\n      });\n    };\n  }\n\n  /**\n   * Display a success toast notification\n   * @param title - The main message to display\n   * @param options - Optional configuration for the toast\n   * @example\n   * toast.success('Profile updated successfully')\n   * toast.success('Files uploaded', { duration: 5000, description: '3 files uploaded' })\n   */\n  success = this.createToastFn(\"success\");\n\n  /**\n   * Display an error toast notification\n   * @param title - The error message to display\n   * @param options - Optional configuration for the toast\n   * @example\n   * toast.error('Failed to save changes')\n   * toast.error('Upload failed', { description: 'Network error occurred' })\n   */\n  error = this.createToastFn(\"error\");\n\n  /**\n   * Display a warning toast notification\n   * @param title - The warning message to display\n   * @param options - Optional configuration for the toast\n   * @example\n   * toast.warning('Low storage space')\n   * toast.warning('Session expiring', { description: 'Please save your work' })\n   */\n  warning = this.createToastFn(\"warning\");\n\n  /**\n   * Display an info toast notification\n   * @param title - The information message to display\n   * @param options - Optional configuration for the toast\n   * @example\n   * toast.info('New updates available')\n   * toast.info('Tips', { description: 'Swipe left to delete' })\n   */\n  info = this.createToastFn(\"info\");\n\n  /**\n   * Display a loading toast notification\n   * @param title - The loading message to display\n   * @param options - Optional configuration for the toast\n   * @example\n   * toast.loading('Uploading files...')\n   * toast.loading('Processing', { duration: Infinity })\n   */\n  loading = this.createToastFn(\"loading\");\n\n  /**\n   * Display a default toast notification\n   * @param title - The message to display\n   * @param options - Optional configuration for the toast\n   * @example\n   * toast.default('Something happened')\n   */\n  default = this.createToastFn(\"default\");\n\n  /**\n   * Create a custom toast notification with full control over its properties\n   * @param params - Complete toast parameters\n   * @example\n   * toast.push({\n   *   title: 'Custom Toast',\n   *   status: 'info',\n   *   duration: 3000,\n   *   description: 'This is a custom toast',\n   *   position: 'top-right'\n   * })\n   */\n  push = (params: ToastParams) => {\n    if (!this.emit)\n      throw new Error(\n        \"Toast not initialized: wrap your app with ToastProvider\"\n      );\n    return this.emit(params);\n  };\n\n  /**\n   * Handle async operations with loading, success, and error states\n   * @param promise - Function that returns a promise\n   * @param options - Configuration for different states of the promise\n   * @example\n   * toast.promise(\n   *   () => fetchUserData(),\n   *   {\n   *     loading: 'Fetching user...',\n   *     success: (data) => `Welcome ${data.name}!`,\n   *     error: 'Failed to fetch user'\n   *   }\n   * )\n   */\n  promise = <T>(promise: () => Promise<T>, options: ToastPromiseOptions<T>) => {\n    if (!this.emitPromise)\n      throw new Error(\n        \"Toast not initialized: wrap your app with ToastProvider\"\n      );\n    return this.emitPromise(promise, options);\n  };\n}\n\nexport const toast = new Toast();\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}